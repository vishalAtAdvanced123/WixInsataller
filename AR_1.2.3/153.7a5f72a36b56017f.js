(()=>{"use strict";setTimeout(function o(){postMessage({action:"log",message:"start"}),fetch("assets/config.json").then(e=>e.json()).then(e=>{let n=+e.RefreshTokenIntervalMilliSecond;fetch(e.API_URL+"account/refreshauth",{method:"GET",headers:{"Content-Type":"text/html;charset=UTF-8"},credentials:"include",redirect:"manual"}).then(s=>Promise.all([s.status,s.text()])).then(([s,r])=>{401===s?postMessage({action:"authenticate",message:"Token Expired",body:r}):(postMessage({action:"log",message:"Token Refreshed"}),setTimeout(o,n))}).catch(s=>postMessage({action:"log",message:`error: ${s.message}`}))}).catch(e=>postMessage({action:"log",message:`error loading config: ${e.message}`}))},3e4)})();
//# sourceMappingURL=153.7a5f72a36b56017f.js.map